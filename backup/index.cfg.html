<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8">
    <title>Cfg&Hard</title>
    <link rel="stylesheet" href="style.css">
  </head>

    <body class="intro">

        <div class="mainone2">
        <h1 class="start">Cfg&Hard</h1>
        </div>
        <div class="paje2">
        <div class="text">  
        <p>Это, пожалуй, самые первые вопросы, о которых хотелось бы поговорить, т.к. эти моменты существенны, и научиться играть, изменив настройки впоследствии, может быть проблематично.</p>
        <p>Сам мод: последняя на данный момент версия
         <br>Наличие версии поновей можно проверить здесь
         <br>Установка ничем не отличается от установки обычного мода для Q3.
        </p>
        <p>
          Замены стандартному quake3.exe, поддерживающие автоматическую скачку карт, сворачивание игры и прочую полезноту:
          <ul>
          <li>dfengine 1.08 win</li>
          <li>dfengine 1.08 lin i386</li>
          <li>iodfe win x86</li>
          <li>iodfe lin i386</li>
          <li>iodfe lin x86_64</li>
          </ul>
        </p>
        <p>Чтобы заработала автозакачка карт, надо изменить dl_source на "http://ws.q3df.org/getpk3bymapname.php/%m" и cl_allowDownload поставить 0.</p>
        <p class="space marj">
          Рассмотрим моменты, касающиеся конфига.
          <br>Насчёт биндов передвижения и переключения оружия ничего определённого посоветовать нельзя, поскольку это хорошо работает практически в любом варианте и соответственно делается так, как вам удобно.
          <br>Разве что cg_autoswitch можно сразу поставить в значение 1 или 2, т.к. эта фишка полезна на очень многих картах (правда есть несколько непродуманных мап, где это придётся отключить, но карт таких немного).
          <br>Настройки графики не критичны в том случае, если ваша машина держит стабильно 125 fps (r_picmip 0 for teh win); если же компьютер слабый, то имеет смысл повысить фпс, сбросив графику в худшее качество.
          <br>Также стоит отключить вертикальную синхронизацию, т.к. она даёт ощутимую задержку ответа видеоряда. Может быть включена в драйвере по дефолту.
          <br>Общепризнанный стандарт для выстрела и прыжка - левая и правая кнопки мыши соответственно. Конечно, можно забиндить эти важные команды и по-другому, но тогда очень вероятны проблемы со стрейфами, рокетджампом и плазмаклаймбом.
          <br>Ещё один важный в дефраге бинд - скрипт на рокетджамп.
          <br>bind key "+moveup;+attack"
          <br>Это единственный некритичный скрипт, и его используют очень многие; можно обойтись и без него, можно его использовать - это решение принадлежит вам и администрации соревнований/серверов. Кстати, могут возникнуть сложности с тем, чтобы научиться играть без скрипта, если он окажется запрещён.
        </p>
        <p>
          <br><div class="headers-mini">Настройки мыши</div>
          <br>Чувствительность - sensitivity - непростой вопрос, т.к. всякие движения необходимы - и быстрые, и точные. Нужен балланс.
          <br>Самый простой и универсальный способ замерить сенсу - в сантиметрах перемещения мыши, необходимых для поворота на 360 градусов в игре.
          <br>Берём линейку и меряем :D
          <br>Способ позволяет избежать зависимости от программного обеспечения и разрешения мыши.
          <br>Оптимальные, на мой взгляд, значения сенсы находятся между 8 и 25 сантиметрами.
        </p>
        <p>
           Если есть желание посчитать значение sensitivity, исходя из сантиметров или наоборот, формулы следующие: sens = 41563/(dpi*sm), соответственно sm = 41563/(dpi*sens).
          <br>Это годится при условии, что m_pitch и m_yaw имеют дефолтное значение 0,022 и системный множитель чувствительности мыши равен 1.
          <br>Чтобы отключить влияние системы на мышиный ввод в dfengine и ему подобных ставим in_mouse 3.
        </p>
        <p>
          Акселерация - cl_mouseaccel - достаточно хороша в значении 0; в deathmatch, где необходимо сочетание резких поворотов и точного прицеливания, акселерация работает хорошо; в дефраге же лучше подходит линейная зависимость между перемещением мыши по коврику и изменением направления взгляда в q3, т.к. точность требуется в каждом движении.
          <br>Однако, есть примеры игроков, умело управляющихся и с акселем, даже большим. Наверняка же можно сказать, что небольшое значение акселя сильно не навредит.
          <br>Фильтрация ввода - m_filter - некритичный параметр, однако при большой чувствительности со значением 1 играть несколько удобнее. Это включает интерполяцию значений направления взгляда, появляются дополнительные средние значения между теми, что были реально введены при помощи мышки.
        </p>
        <p>
          <br><div class="headers-mini">Настройки физики</div>
          <br>Тут надо сказать, что, как и в любом другом спорте, является логичным, что игроки должны иметь равные возможности.
          <br>Поэтому есть регламентированные настройки физики, и легитимными являются только демки, записанные при этих настройках.
        </p>
        <p>Переменные, фактически отвечающие за физику, здесь стоят по дефолту:
          <ul>
            <li>sv_cheats 0</li>
            <li>timescale 1</li>
            <li>g_speed 320</li>
            <li>g_gravity 800</li>
            <li>g_knockback 1000</li>
          </ul>
        </p>
        <p>Следующие переменные изначально не были предназначены для настройки физики:
          <ul>
            <li>sv_fps 125</li>
            <li>com_maxfps 125</li>
            <li>g_synchronousClients 1</li>
            <li>pmove_fixed 0</li>
          </ul>
          <br>Однако, такая зависимость обнаружилась.
          <br>Поэтому, для полной ясности, я напишу о них подробнее:
        </p>
          <dl>
            <dt><div class="dl-style">sv_fps</div></dt>
            <dd>Дело в том, что в q3 каждый фрейм происходит расчёт на основе только что введённых данных.
              <br>Т.е. вы вводите данные (нажатия, положение мыши), они обсчитываются, изменяется состояние игрока.
              <br>И так столько раз в секунду, сколько выставлено значение фпс.
              <br>Почему выбрано значение 125?
              <br>При расчёте в каждом фрейме происходит округление величин векторов скорости до целых чисел. В q3, в отличие от обычных методов, округление происходит по математическим правилам, т.е. не всегда в меньшую сторону, а в зависимости от числа после запятой.
              <br>При таком раскладе есть возможность заставить ошибки округления аккумулироваться в бОльшую сторону.
              <br>Именно поэтому выбрано число 125, как одно из ряда значений, при котором поведение физики является наиболее благоприятным для более высоких прыжков и лучшего набора скорости.</dd>
          </dl>
          <dl>
            <dt><div class="dl-style1">com_maxfps 125</div></dt>
            <dd>Это ограничение максимального значения частоты обсчёта видеоряда и частоты опроса ввода, выбрано равным значению фпс сервера для отсутствия расхождений в расчёте физики и видео с инпутом на хороших компьютерах.</dd>
          </dl>
          <dl>
            <dt class="dl-style2">g_synchronousClients</dt>
              <dd>
                Этот параметр отвечает за синхронизацию клиент-сервер.
                <br>Значение 0: сервер использует значение фпс видеоряда от клиента для определения частоты обсчёта; в этом случае sv_fps не играет никакой роли, частота начинает соответствовать частоте видеоряда, и физика зависит от реального фпса.
                <br>Значение 1: частота обсчёта определяется значением sv_fps, появляется возможность заставить физику вести себя наиболее благоприятно, что нам и необходимо.
              </dd>
          </dl>
          <dl>
            <dt class="dl-style3">pmove_fixed</dt>
            <dd>
              При включении данной функции эмулируется стабильный 125фпс режим обсчёта.
              <br>Эта фича создана специально для работы на слабых машинах с g_synchronousClients 0; т.е. она отключает использование значения фпс от клиента для определения частоты обсчёта.
              <br>Сам же режим g_synchronousClients 0 необходим для игры онлайн, поскольку при значении 1 происходит задержка между вводом данных и ответом видеоряда, зависящая от пинга.
              <br>Однако режим с pmove_fixed 1 работает неидеально, могут быть баги с триггерами и оружием при низком фпс, поэтому для listen (offline) дефраг сервера pmove не используют. Фактическое отличие режима с pmove проявляется с оружием - в небольшом диапазоне пологих углов при отстреливании от поверхностей отдача незначительно отличается.
            </dd>
          </dl>
          <p>
            Что же касается онлайн игры, то здесь должны быть использованы следующие значения по причинам, которые объяснил выше:
            <ul>
              <li>g_synchronousClients 0</li>
              <li>pmove_fixed 1</li>
              <li>pmove_msec 8</li>
            </ul>
            <br>Последняя переменная отвечает за то, какой фпс-режим будет эмулироваться при включении pmove_fixed.
            <br>Значение указывается в миллисекундах и определяет длину фрейма.
            <br>1000 msec/8msec=125герц - что нам и требовалось.
          </p>
          <p>
            Вполне вероятно, что вы чего-то не поняли из этих объяснений (а может, и вовсе ничего не поняли, что даже более вероятно=))), но отчаиваться не стоит.
            <br>Достаточно запомнить, что g_synchronousClients 0 + pmove_fixed 1 это почти то же самое, что и g_synchronousClients 1 + pmove_fixed 0, первое используется онлайн, второе - оффлайн.
          </p>
          <p>
            Для игры онлайн также актуальны настройки соединения - влияют на физику с оружием и комфортное восприятие игры.
            <br>rate 2500
            <br>snaps 125
            <br>cl_maxpackets 125
          </p>
          <p>
            До кучи вопрос о том, почему все легитимные рекорды в дефраге делятся нацело на 0.008.
            <br>Происходит так потому, что тактов в секунде 125, а соответственно шаг времени равен 8 миллисекунд (есть, правда, карты-исключения из этого правила, где результат плюс 0.004 кратен 0.008; происходит так, если игрок респаунится в таймере или телепортируется в него).
          </p>
          <p>
            Ну что же, с физикой разобрались, поехали дальше.
            <br><div class="dl-style2">Бинд на рестарт</div>
            <br>На дефраг картах необходимо как-то возвращаться на старт после того, как дорожка пройдена или вдруг захотелось начать сначала.
            <br>Можно использовать для этой цели команду kill, забинденную на удобную клавишу.
            <br>Альтернативный вариант, подходящий только для игры в оффлайне - map_restart 0
          </p>
          <section class="warnstyle">
            <p class="style">
             Для просмотра демок удобно забиндить клавиши для изменения скорости проигрывания; бывает необходимо перемотать, а иногда что-то внимательно посмотреть.
            <br>Вполне хватит трёх значений timescale, например 0.2, 1 и 5, хотя можно использовать и более плавное изменение скорости.
            </p>
          </section>
          <p>
            <br><div class="dl-style2">Вывод статистики</div>
            <br>Тут посоветовать ничего конкретного нельзя, статсы, полезные для одного игрока, могут оказаться лишним мусором на экране для другого.
            <br>Поэтому объясню, как их включить, а вы решайте, какие из них вам необходимы.
          </p>
          <P>
            df_chs0_Draw - включает нулевой статс, отображающий нажатия клавиш, которые сохраняются в демках, начиная с версии дефрага 1.7.
            <br>Очень полезен для понимания того, как тот или иной трикс сделан.
            <br><ol>
              <li>Включить для просмотра дем и во время игры.</li>
              <li>Только для демок и режима спектатора.</li>
            </ol>
          </P>
          <p>
            df_chs1_Draw и df_chs2_Draw - два блока статсов по 8 параметров каждый.
            <br>Включаются соответственно df_chs1_Info1-8 № и df_chs2_Info1-8 №, где № - это номера статсов, указанные в DeFRaG\DOCS\list-[CHS-Info].txt, а также выводящиеся в консоль по команде \info
            <br>Можно определить отображение более одного статса каждым информационным параметром, включив df_chs1(2)_EnableCombos и вписав номера в информационный блок через пробел.
            <br>Для многих статсов можно включить отображение с десятичной запятой, дописав перед номером статса цифру, равную необходимому числу знаков после запятой.
            <br>Есть альтернативный вариант вывода этих статсов через команды say и echo, который не окажет влияния на фпс и позволит не засорить экран.
            <br>Очень удобен для отображения истории скоростей прыжков, акселей и т.д.
            <br>Формат следующий: bind key "varcommand say(echo) $chsinfo(№)"
          </p>
          <p>
            <div class="dl-style2">Сейвпоз</div>
            <br>Очень полезная фича дефрага для триксов и отработки дф-мап, позволяет восстанавливать сохранённые положение и скорость игрока.
            <br>Поэтому нет ничего удивительного в том, что практически все триксовые демки записаны с sv_cheats 1; сейвпоз работает только в этом режиме.
            <br>Изменение ключевых переменных в любом случае отображается в консоли, поэтому жульничать с ними никто не станет, а вот каждый раз возвращаться в исходную позицию может надоесть.
            <ul>Настройки следующие:
              <li>seta saveposname variablename - установить сохранение позиции в переменную "variablename"</li>
              <li>bind key "savepos" - сохранить текущую позицию</li>
              <li>bind anotherkey "vstr variablename" - восстановить сохранённую позицию</li>
            </ul>
          </p>
          <p>
            Для тех, кому не терпится поиграть, предлагаю готовый пример конфига с описанными выше и другими полезными настройками.
            <br>Также включает фильтр консоли от лишней информации (для маперов и прочих девелоперов она не лишняя).
          </p>
          <p>
            <ul>Как настроить нестандартное разрешение видео (например для широкоформатного монитора):
              <li>r_mode -1</li>
              <li>r_customwidth - ширина</li>
              <li>r_customheight - высота</li>
              <li>vid_restart</li>
            </ul>
          </p>
          <section class="warnstyle2">
            <p>Ещё полезнота: личные сообщения на онлайн сервере.
            <br>\tell номер_игрока сообщение.
            <br>Номер смотрим по команде \info players
            <br>Собственно фича Q3, но info players есть только в дефраге.
          </p>
          </section>
          <p>
            На карте может быть несколько респаунов; как появляться всегда на нужном:
            <br>команда \respawnpoint set поблизости от него.
            <br>\respawnpoint clear - сбросить привязку к респауну.
          </p>
          <p class="space">
            И в заключение немного об оборудовании.
            <br>Что касается железа, то тут чем мощнее - тем лучше, это и так понятно.
            <br>А вот что касается мыши, то научиться неплохо играть можно практически на любой; хорошо, если она обладает эргономичной формой, ещё лучше, если она оптическая/лазерная.
            <br>Тогда есть шанс с минимальными потерями для real life научиться играть не только хорошо, а отлично.
          </p>
          <p class="marj">
            Конечно, можно весело провести время в дефраге, и не следуя всем этим советам: это лишь мой взгляд на данные вопросы.
          </p>
    </body>
        <footer>
          <a href="index.intro.html"><span class="navi">Intro</span></a> &gt;&gt; <span class="navi">Strafes</span> 
        </footer>
        </html>
